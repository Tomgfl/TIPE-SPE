filenames = [
    "Book1", "Book2", "Book3", "Book4", "Book5", "Book6", "Book7", "Book8", "Book9", "Book10",
    "Book11", "Book12", "Book13", "Book14", "Book15", "Book16", "Book17", "Book18", "Book19",
    "Cadre_1_Clou", "Cadre_1_Contour", "Cadre_1_Corde", "Cadre_1_Image", "Cadre_2_Contour",
    "Cadre_2_Image", "Canape_Bras", "Canape_Dos", "Canape_Pouf1", "Canape_Pouf2", "Canape_Pouf3",
    "Canape_Pouf4", "Canape_Pouf5", "Canape_Pouf6", "Canape_Sol", "Chaise_Pouf", "Chaise",
    "Commode", "Corbeille_Barro1", "Corbeille_Barro2", "Corbeille_Barro3", "Corbeille_Barro4",
    "Corbeille_Barro5", "Corbeille_Pied", "Corbeille", "Lampe_3_Abajour",
    "Lampe_3_Abajour2", "Lampe_3_Abajour3", "Lampe_3_Pied", "Lampe_3_Tige", "Lampe_3_Tige2",
    "Lampe_3_Tige3", "Lampe1_Abajour", "Lampe1_Abajour2", "Lampe1_Pied", "Lampe1_Pied2",
    "Lampe2_Abajour", "Lampe2_Abajour2", "Lampe2_Pied", "Mur_Haut", "Mur", "Mur1", "Mur2", "Mur3",
    "PoutreSol", "Skate_Planche", "Skate_PorteRoue", "Skate_Roue", "Sol", "Sol2", "Table_Haut",
    "Table_Pied", "Table", "Tapis_Centre", "Tapis_Centre2", "Tapis_Centre3", "Tapis_Centre4",
    "Telephone_Bouton1", "Telephone_Bouton2", "Telephone_Bouton3", "Telephone_Bouton4",
    "Telephone_Bouton5", "Telephone_Bouton6", "Telephone_Bouton7", "Telephone_Bouton8",
    "Telephone_Bouton9", "Telephone_Socle", "Telephone_Tel", "Trombone_Bout", "Trombone_Bouton1",
    "Trombone_Bouton2", "Trombone_Bouton3", "Trombone_Bouton4", "Trombone_Bouton5",
    "Trombone_Bouton6", "Trombone_Bouton7", "Trombone_Bouton8", "Trombone_Bouton9",
    "Trombone_Bouton10", "Trombone_Bouton11", "Trombone_Bouton12", "Trombone_Bouton13",
    "Trombone_Bouton14", "Trombone", "VraiSol"
]


filename1 = "Book1"
filename2 = "Book2"
filename3 = "Book3"
filename4 = "Book4"
filename5 = "Book5"
filename6 = "Book6"
filename7 = "Book7"
filename8 = "Book8"
filename9 = "Book9"
filename10 = "Book10"
filename11 = "Book11"
filename12 = "Book12"
filename13 = "Book13"
filename14 = "Book14"
filename15 = "Book15"
filename16 = "Book16"
filename17 = "Book17"
filename18 = "Book18"
filename19 = "Book19"
filename20 = "Cadre_1_Clou"
filename21 = "Cadre_1_Contour"
filename22 = "Cadre_1_Corde"
filename23 = "Cadre_1_Image"
filename24 = "Cadre_2_Contour"
filename25 = "Cadre_2_Image"
filename26 = "Canape_Bras"
filename27 = "Canape_Dos"
filename28 = "Canape_Pouf1"
filename29 = "Canape_Pouf2"
filename30 = "Canape_Pouf3"
filename31 = "Canape_Pouf4"
filename32 = "Canape_Pouf5"
filename33 = "Canape_Pouf6"
filename34 = "Canape_Sol"
filename35 = "Chaise_Pouf"
filename36 = "Chaise"
filename37 = "Commode"
filename38 = "Corbeille_Barro1"
filename39 = "Corbeille_Barro2"
filename40 = "Corbeille_Barro3"
filename41 = "Corbeille_Barro4"
filename42 = "Corbeille_Barro5"
filename43 = "Corbeille_Barro6"
filename44 = "Corbeille_Pied"
filename45 = "Corbeille"
filename46 = "Lampe_3_Abajour"
filename47 = "Lampe_3_Abajour2"
filename48 = "Lampe_3_Abajour3"
filename49 = "Lampe_3_Pied"
filename50 = "Lampe_3_Tige"
filename51 = "Lampe_3_Tige2"
filename52 = "Lampe_3_Tige3"
filename53 = "Lampe1_Abajour"
filename54 = "Lampe1_Abajour2"
filename55 = "Lampe1_Pied"
filename56 = "Lampe1_Pied2"
filename57 = "Lampe2_Abajour"
filename58 = "Lampe2_Abajour2"
filename59 = "Lampe2_Pied"
filename60 = "Mur_Haut"
filename61 = "Mur"
filename62 = "Mur1"
filename63 = "Mur2"
filename64 = "Mur3"
filename65 = "PoutreSol"
filename66 = "Skate_Planche"
filename67 = "Skate_PorteRoue"
filename68 = "Skate_Roue"
filename69 = "Sol"
filename70 = "Sol2"
filename71 = "Table_Haut"
filename72 = "Table_Pied"
filename73 = "Table"
filename74 = "Tapis_Centre"
filename75 = "Tapis_Centre2"
filename76 = "Tapis_Centre3"
filename77 = "Tapis_Centre4"
filename78 = "Telephone_Bouton1"
filename79 = "Telephone_Bouton2"
filename80 = "Telephone_Bouton3"
filename81 = "Telephone_Bouton4"
filename82 = "Telephone_Bouton5"
filename83 = "Telephone_Bouton6"
filename84 = "Telephone_Bouton7"
filename85 = "Telephone_Bouton8"
filename86 = "Telephone_Bouton9"
filename87 = "Telephone_Socle"
filename88 = "Telephone_Tel"
filename89 = "Trombone_Bout"
filename90 = "Trombone_Bouton1"
filename91 = "Trombone_Bouton2"
filename92 = "Trombone_Bouton3"
filename93 = "Trombone_Bouton4"
filename94 = "Trombone_Bouton5"
filename95 = "Trombone_Bouton6"
filename96 = "Trombone_Bouton7"
filename97 = "Trombone_Bouton8"
filename98 = "Trombone_Bouton9"
filename99 = "Trombone_Bouton10"
filename100 = "Trombone_Bouton11"
filename101 = "Trombone_Bouton12"
filename102 = "Trombone_Bouton13"
filename103 = "Trombone_Bouton14"
filename104 = "Trombone"
filename105 = "VraiSol"

nbf = 104

actual_file = 1




with open(f"simpsons_bvh.h","w") as file:
    file.write(f"#ifndef SIMPSONS_H \n")
    file.write(f"#define SIMPSONS_H \n\n")

    file.write('#include "vector.h" \n')
    file.write('#include "utiles.h" \n')
    file.write('#include "signed_distance_function.h" \n\n')

    for filename in filenames :
        file.write(f"BVHNode* BVH_{filename}(vector pts);\n")

    file.write("#endif")


i = 1
k = 0
with open(f"simpsons_bvh.c","w") as file:
    file.write(f'#include "simpsons_bvh.h"\n\n')
    for filename2 in filenames:
        j = 0
        with open(f"{filename2}.obj",'r') as file2:
            lines = file2.readlines()

            file.write(f"BVHNode* BVH_{filename2}(vector pts) {{ \n")
            file.write(f"   int nb = ; \n")
            file.write(f"   OBJET* all_obj = malloc(nb*sizeof(OBJET)); \n")

            for l in lines:
                if l[0] == "v":
                    coord = l.split(" ")
                    coord[3] = coord[3].replace("\n","")
                    file.write(f"   vector C_{i} = {{ {coord[1]},{coord[2]},{coord[3]} }};\n")
                    i += 1

                if l[0] == "f":
                    coord = l.split(" ")
                    coord[3] = coord[3].replace("\n","")
                    file.write(f"   all_obj[{j}] = BuildTriangle(C_{str(int(coord[1])+k)},C_{str(int(coord[2])+k)},C_{str(int(coord[3])+k)}, c_blanc);\n")
                    j += 1
            
            file.write(f"   int nb = {j};\n")
            file.write(f"   BVHNode* root = buildBVH(all_obj, {j}); \n")
            file.write(f"   return root;\n")
            file.write("}\n\n")
            k = i - 1
